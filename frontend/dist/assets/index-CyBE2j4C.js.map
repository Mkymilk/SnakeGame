{"version":3,"file":"index-CyBE2j4C.js","sources":["../../src/types.ts","../../src/game.ts","../../src/sound.ts","../../src/storage.ts","../../src/controller.ts","../../src/main.ts"],"sourcesContent":["export interface Position {\r\n  x: number;\r\n  y: number;\r\n}\r\n\r\nexport interface GameState {\r\n  snake: Position[];\r\n  food: Position;\r\n  direction: Direction;\r\n  nextDirection: Direction;\r\n  score: number;\r\n  isGameOver: boolean;\r\n  isPaused: boolean;\r\n  speed: number;\r\n  wallMode: 'solid' | 'wrap';\r\n  soundEnabled: boolean;\r\n}\r\n\r\nexport interface GameSettings {\r\n  gridSize: number;\r\n  cellSize: number;\r\n  canvasWidth: number;\r\n  canvasHeight: number;\r\n  initialSpeed: number;\r\n  wallMode: 'solid' | 'wrap';\r\n  soundEnabled: boolean;\r\n}\r\n\r\nexport interface ScoreEntry {\r\n  name: string;\r\n  score: number;\r\n  date: string;\r\n}\r\n\r\nexport enum Direction {\r\n  UP = 'UP',\r\n  DOWN = 'DOWN',\r\n  LEFT = 'LEFT',\r\n  RIGHT = 'RIGHT'\r\n}\r\n\r\nexport enum GameScreen {\r\n  MENU = 'MENU',\r\n  GAME = 'GAME',\r\n  OPTIONS = 'OPTIONS',\r\n  GAME_OVER = 'GAME_OVER',\r\n  LEADERBOARD = 'LEADERBOARD',\r\n  PAUSE = 'PAUSE'\r\n}\r\n","import { Position, GameState, GameSettings, Direction } from './types.js';\r\n\r\nexport class SnakeGame {\r\n  private canvas: HTMLCanvasElement;\r\n  private ctx: CanvasRenderingContext2D;\r\n  private settings: GameSettings;\r\n  private state: GameState;\r\n  private gameLoop: number | null = null;\r\n  private lastMoveTime = 0;\r\n\r\n  constructor(canvas: HTMLCanvasElement, settings: GameSettings) {\r\n    this.canvas = canvas;\r\n    this.ctx = canvas.getContext('2d')!;\r\n    this.settings = settings;\r\n    \r\n    // Set canvas size\r\n    this.canvas.width = settings.canvasWidth;\r\n    this.canvas.height = settings.canvasHeight;\r\n    \r\n    this.state = this.createInitialState();\r\n    this.setupRendering();\r\n  }\r\n\r\n  private createInitialState(): GameState {\r\n    const centerX = Math.floor(this.settings.gridSize / 2);\r\n    const centerY = Math.floor(this.settings.gridSize / 2);\r\n    \r\n    return {\r\n      snake: [\r\n        { x: centerX, y: centerY },\r\n        { x: centerX - 1, y: centerY },\r\n        { x: centerX - 2, y: centerY }\r\n      ],\r\n      food: this.generateFood([]),\r\n      direction: Direction.RIGHT,\r\n      nextDirection: Direction.RIGHT,\r\n      score: 0,\r\n      isGameOver: false,\r\n      isPaused: false,\r\n      speed: this.settings.initialSpeed,\r\n      wallMode: this.settings.wallMode,\r\n      soundEnabled: this.settings.soundEnabled\r\n    };\r\n  }\r\n\r\n  private setupRendering() {\r\n    this.ctx.imageSmoothingEnabled = false;\r\n  }\r\n\r\n  private generateFood(snake: Position[]): Position {\r\n    let food: Position;\r\n    do {\r\n      food = {\r\n        x: Math.floor(Math.random() * this.settings.gridSize),\r\n        y: Math.floor(Math.random() * this.settings.gridSize)\r\n      };\r\n    } while (snake.some(segment => segment.x === food.x && segment.y === food.y));\r\n    return food;\r\n  }\r\n\r\n  changeDirection(newDirection: Direction) {\r\n    // Prevent 180-degree turns\r\n    const opposites = {\r\n      [Direction.UP]: Direction.DOWN,\r\n      [Direction.DOWN]: Direction.UP,\r\n      [Direction.LEFT]: Direction.RIGHT,\r\n      [Direction.RIGHT]: Direction.LEFT\r\n    };\r\n\r\n    if (opposites[this.state.direction] !== newDirection) {\r\n      this.state.nextDirection = newDirection;\r\n    }\r\n  }\r\n\r\n  start() {\r\n    if (this.gameLoop) return;\r\n    \r\n    this.lastMoveTime = Date.now();\r\n    this.gameLoop = requestAnimationFrame(() => this.update());\r\n  }\r\n\r\n  stop() {\r\n    if (this.gameLoop) {\r\n      cancelAnimationFrame(this.gameLoop);\r\n      this.gameLoop = null;\r\n    }\r\n  }\r\n\r\n  pause() {\r\n    this.state.isPaused = true;\r\n    this.stop();\r\n  }\r\n\r\n  resume() {\r\n    this.state.isPaused = false;\r\n    this.start();\r\n  }\r\n\r\n  reset() {\r\n    this.stop();\r\n    this.state = this.createInitialState();\r\n    this.render();\r\n  }\r\n\r\n  updateSettings(newSettings: Partial<GameSettings>) {\r\n    Object.assign(this.settings, newSettings);\r\n    this.state.speed = newSettings.initialSpeed || this.state.speed;\r\n    this.state.wallMode = newSettings.wallMode || this.state.wallMode;\r\n    this.state.soundEnabled = newSettings.soundEnabled ?? this.state.soundEnabled;\r\n  }\r\n\r\n  getState(): GameState {\r\n    return { ...this.state };\r\n  }\r\n\r\n  private update() {\r\n    const now = Date.now();\r\n    const moveInterval = 1000 / this.state.speed;\r\n\r\n    if (now - this.lastMoveTime >= moveInterval) {\r\n      this.move();\r\n      this.lastMoveTime = now;\r\n    }\r\n\r\n    this.render();\r\n\r\n    if (!this.state.isGameOver && !this.state.isPaused) {\r\n      this.gameLoop = requestAnimationFrame(() => this.update());\r\n    }\r\n  }\r\n\r\n  private move() {\r\n    if (this.state.isGameOver || this.state.isPaused) return;\r\n\r\n    // Update direction\r\n    this.state.direction = this.state.nextDirection;\r\n\r\n    // Calculate new head position\r\n    const head = { ...this.state.snake[0] };\r\n    switch (this.state.direction) {\r\n      case Direction.UP:\r\n        head.y--;\r\n        break;\r\n      case Direction.DOWN:\r\n        head.y++;\r\n        break;\r\n      case Direction.LEFT:\r\n        head.x--;\r\n        break;\r\n      case Direction.RIGHT:\r\n        head.x++;\r\n        break;\r\n    }\r\n\r\n    // Handle wall collision\r\n    if (this.state.wallMode === 'wrap') {\r\n      head.x = (head.x + this.settings.gridSize) % this.settings.gridSize;\r\n      head.y = (head.y + this.settings.gridSize) % this.settings.gridSize;\r\n    } else {\r\n      if (head.x < 0 || head.x >= this.settings.gridSize || \r\n          head.y < 0 || head.y >= this.settings.gridSize) {\r\n        this.state.isGameOver = true;\r\n        return;\r\n      }\r\n    }\r\n\r\n    // Check self collision\r\n    if (this.state.snake.some(segment => segment.x === head.x && segment.y === head.y)) {\r\n      this.state.isGameOver = true;\r\n      return;\r\n    }\r\n\r\n    // Add new head\r\n    this.state.snake.unshift(head);\r\n\r\n    // Check food collision\r\n    if (head.x === this.state.food.x && head.y === this.state.food.y) {\r\n      this.state.score += 10;\r\n      this.state.food = this.generateFood(this.state.snake);\r\n      \r\n      // Increase speed slightly\r\n      this.state.speed = Math.min(this.state.speed + 0.1, 15);\r\n    } else {\r\n      // Remove tail if no food eaten\r\n      this.state.snake.pop();\r\n    }\r\n  }\r\n\r\n  private render() {\r\n    // Clear canvas\r\n    this.ctx.fillStyle = '#1a2e1a';\r\n    this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);\r\n\r\n    // Draw grid (subtle)\r\n    this.ctx.strokeStyle = '#2a4a2a';\r\n    this.ctx.lineWidth = 1;\r\n    for (let x = 0; x <= this.settings.gridSize; x++) {\r\n      const xPos = x * this.settings.cellSize;\r\n      this.ctx.beginPath();\r\n      this.ctx.moveTo(xPos, 0);\r\n      this.ctx.lineTo(xPos, this.canvas.height);\r\n      this.ctx.stroke();\r\n    }\r\n    for (let y = 0; y <= this.settings.gridSize; y++) {\r\n      const yPos = y * this.settings.cellSize;\r\n      this.ctx.beginPath();\r\n      this.ctx.moveTo(0, yPos);\r\n      this.ctx.lineTo(this.canvas.width, yPos);\r\n      this.ctx.stroke();\r\n    }\r\n\r\n    // Draw snake\r\n    this.state.snake.forEach((segment, index) => {\r\n      const x = segment.x * this.settings.cellSize;\r\n      const y = segment.y * this.settings.cellSize;\r\n      \r\n      if (index === 0) {\r\n        // Head\r\n        this.ctx.fillStyle = '#90EE90';\r\n        this.ctx.fillRect(x + 1, y + 1, this.settings.cellSize - 2, this.settings.cellSize - 2);\r\n        \r\n        // Eyes\r\n        this.ctx.fillStyle = '#000';\r\n        const eyeSize = 2;\r\n        const eyeOffset = 3;\r\n        \r\n        switch (this.state.direction) {\r\n          case Direction.UP:\r\n            this.ctx.fillRect(x + eyeOffset, y + 2, eyeSize, eyeSize);\r\n            this.ctx.fillRect(x + this.settings.cellSize - eyeOffset - eyeSize, y + 2, eyeSize, eyeSize);\r\n            break;\r\n          case Direction.DOWN:\r\n            this.ctx.fillRect(x + eyeOffset, y + this.settings.cellSize - 4, eyeSize, eyeSize);\r\n            this.ctx.fillRect(x + this.settings.cellSize - eyeOffset - eyeSize, y + this.settings.cellSize - 4, eyeSize, eyeSize);\r\n            break;\r\n          case Direction.LEFT:\r\n            this.ctx.fillRect(x + 2, y + eyeOffset, eyeSize, eyeSize);\r\n            this.ctx.fillRect(x + 2, y + this.settings.cellSize - eyeOffset - eyeSize, eyeSize, eyeSize);\r\n            break;\r\n          case Direction.RIGHT:\r\n            this.ctx.fillRect(x + this.settings.cellSize - 4, y + eyeOffset, eyeSize, eyeSize);\r\n            this.ctx.fillRect(x + this.settings.cellSize - 4, y + this.settings.cellSize - eyeOffset - eyeSize, eyeSize, eyeSize);\r\n            break;\r\n        }\r\n      } else {\r\n        // Body\r\n        this.ctx.fillStyle = '#228B22';\r\n        this.ctx.fillRect(x + 1, y + 1, this.settings.cellSize - 2, this.settings.cellSize - 2);\r\n      }\r\n    });\r\n\r\n    // Draw food\r\n    const foodX = this.state.food.x * this.settings.cellSize;\r\n    const foodY = this.state.food.y * this.settings.cellSize;\r\n    this.ctx.fillStyle = '#FF4444';\r\n    this.ctx.fillRect(foodX + 2, foodY + 2, this.settings.cellSize - 4, this.settings.cellSize - 4);\r\n    \r\n    // Food highlight\r\n    this.ctx.fillStyle = '#FF8888';\r\n    this.ctx.fillRect(foodX + 3, foodY + 3, this.settings.cellSize - 8, this.settings.cellSize - 8);\r\n  }\r\n}\r\n","export class SoundManager {\r\n  private audioContext: AudioContext | null = null;\r\n  private enabled = true;\r\n\r\n  constructor() {\r\n    this.initAudioContext();\r\n  }\r\n\r\n  private initAudioContext() {\r\n    try {\r\n      this.audioContext = new (window.AudioContext || (window as any).webkitAudioContext)();\r\n    } catch (e) {\r\n      console.warn('Web Audio API not supported');\r\n    }\r\n  }\r\n\r\n  setEnabled(enabled: boolean) {\r\n    this.enabled = enabled;\r\n  }\r\n\r\n  private playTone(frequency: number, duration: number, type: OscillatorType = 'square') {\r\n    if (!this.enabled || !this.audioContext) return;\r\n\r\n    const oscillator = this.audioContext.createOscillator();\r\n    const gainNode = this.audioContext.createGain();\r\n\r\n    oscillator.connect(gainNode);\r\n    gainNode.connect(this.audioContext.destination);\r\n\r\n    oscillator.type = type;\r\n    oscillator.frequency.setValueAtTime(frequency, this.audioContext.currentTime);\r\n\r\n    gainNode.gain.setValueAtTime(0.1, this.audioContext.currentTime);\r\n    gainNode.gain.exponentialRampToValueAtTime(0.01, this.audioContext.currentTime + duration);\r\n\r\n    oscillator.start(this.audioContext.currentTime);\r\n    oscillator.stop(this.audioContext.currentTime + duration);\r\n  }\r\n\r\n  playMove() {\r\n    this.playTone(220, 0.1);\r\n  }\r\n\r\n  playEat() {\r\n    this.playTone(440, 0.2);\r\n  }\r\n\r\n  playGameOver() {\r\n    this.playTone(110, 0.5);\r\n    setTimeout(() => this.playTone(98, 0.5), 200);\r\n  }\r\n\r\n  playMenuSelect() {\r\n    this.playTone(330, 0.1);\r\n  }\r\n}\r\n","import { ScoreEntry } from './types.js';\r\n\r\nconst API_BASE_URL = 'http://localhost:5102/api';\r\n\r\nexport class ApiClient {\r\n  async getLeaderboard(limit = 10): Promise<ScoreEntry[]> {\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/leaderboard?limit=${limit}`);\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n      return await response.json();\r\n    } catch (error) {\r\n      console.error('Failed to fetch leaderboard:', error);\r\n      return [];\r\n    }\r\n  }\r\n\r\n  async submitScore(name: string, score: number): Promise<boolean> {\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/leaderboard`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ name, score }),\r\n      });\r\n      return response.ok;\r\n    } catch (error) {\r\n      console.error('Failed to submit score:', error);\r\n      return false;\r\n    }\r\n  }\r\n}\r\n\r\nexport class LocalStorage {\r\n  private static readonly HIGH_SCORE_KEY = 'snake-high-score';\r\n  private static readonly SETTINGS_KEY = 'snake-settings';\r\n\r\n  static getHighScore(): number {\r\n    const stored = localStorage.getItem(this.HIGH_SCORE_KEY);\r\n    return stored ? parseInt(stored, 10) : 0;\r\n  }\r\n\r\n  static setHighScore(score: number): void {\r\n    localStorage.setItem(this.HIGH_SCORE_KEY, score.toString());\r\n  }\r\n\r\n  static getSettings() {\r\n    const stored = localStorage.getItem(this.SETTINGS_KEY);\r\n    return stored ? JSON.parse(stored) : {\r\n      speed: 8,\r\n      wallMode: 'solid',\r\n      soundEnabled: true\r\n    };\r\n  }\r\n\r\n  static setSettings(settings: any): void {\r\n    localStorage.setItem(this.SETTINGS_KEY, JSON.stringify(settings));\r\n  }\r\n}\r\n","import { SnakeGame } from './game.js';\r\nimport { SoundManager } from './sound.js';\r\nimport { ApiClient, LocalStorage } from './storage.js';\r\nimport { Direction, GameScreen, GameSettings, ScoreEntry } from './types.js';\r\n\r\nexport class GameController {\r\n  private game!: SnakeGame;\r\n  private soundManager: SoundManager;\r\n  private apiClient: ApiClient;\r\n  private currentScreen: GameScreen = GameScreen.MENU;\r\n  private settings: GameSettings;\r\n  private highScore: number;\r\n\r\n  // UI Elements\r\n  private elements!: { [key: string]: HTMLElement };\r\n\r\n  constructor() {\r\n    this.soundManager = new SoundManager();\r\n    this.apiClient = new ApiClient();\r\n    \r\n    // Load settings\r\n    const savedSettings = LocalStorage.getSettings();\r\n    this.settings = {\r\n      gridSize: 20,\r\n      cellSize: 20,\r\n      canvasWidth: 400,\r\n      canvasHeight: 400,\r\n      initialSpeed: savedSettings.speed || 8,\r\n      wallMode: savedSettings.wallMode || 'solid',\r\n      soundEnabled: savedSettings.soundEnabled ?? true\r\n    };\r\n\r\n    this.highScore = LocalStorage.getHighScore();\r\n    \r\n    this.initializeElements();\r\n    this.initializeGame();\r\n    this.setupEventListeners();\r\n    this.updateUI();\r\n    this.showScreen(GameScreen.MENU);\r\n  }\r\n\r\n  private initializeElements() {\r\n    this.elements = {\r\n      canvas: document.getElementById('game-canvas') as HTMLCanvasElement,\r\n      score: document.getElementById('score')!,\r\n      highScore: document.getElementById('high-score')!,\r\n      menuScreen: document.getElementById('menu-screen')!,\r\n      optionsScreen: document.getElementById('options-screen')!,\r\n      gameOverScreen: document.getElementById('game-over-screen')!,\r\n      leaderboardScreen: document.getElementById('leaderboard-screen')!,\r\n      pauseScreen: document.getElementById('pause-screen')!,\r\n      playBtn: document.getElementById('play-btn')!,\r\n      optionsBtn: document.getElementById('options-btn')!,\r\n      leaderboardBtn: document.getElementById('leaderboard-btn')!,\r\n      backBtn: document.getElementById('back-btn')!,\r\n      leaderboardBackBtn: document.getElementById('leaderboard-back-btn')!,\r\n      speedSelect: document.getElementById('speed-select')!,\r\n      wallsSelect: document.getElementById('walls-select')!,\r\n      soundToggle: document.getElementById('sound-toggle')!,\r\n      finalScore: document.getElementById('final-score')!,\r\n      highScoreMsg: document.getElementById('high-score-msg')!,\r\n      playerName: document.getElementById('player-name')!,\r\n      submitScoreBtn: document.getElementById('submit-score-btn')!,\r\n      playAgainBtn: document.getElementById('play-again-btn')!,\r\n      mainMenuBtn: document.getElementById('main-menu-btn')!,\r\n      leaderboardList: document.getElementById('leaderboard-list')!,\r\n      pauseBtn: document.getElementById('pause-btn')!,\r\n      upBtn: document.getElementById('up-btn')!,\r\n      downBtn: document.getElementById('down-btn')!,\r\n      leftBtn: document.getElementById('left-btn')!,\r\n      rightBtn: document.getElementById('right-btn')!\r\n    };\r\n  }\r\n\r\n  private initializeGame() {\r\n    this.game = new SnakeGame(this.elements.canvas as HTMLCanvasElement, this.settings);\r\n    this.soundManager.setEnabled(this.settings.soundEnabled);\r\n  }\r\n\r\n  private setupEventListeners() {\r\n    // Menu buttons\r\n    this.elements.playBtn.addEventListener('click', () => this.startGame());\r\n    this.elements.optionsBtn.addEventListener('click', () => this.showOptions());\r\n    this.elements.leaderboardBtn.addEventListener('click', () => this.showLeaderboard());\r\n    this.elements.backBtn.addEventListener('click', () => this.showScreen(GameScreen.MENU));\r\n    this.elements.leaderboardBackBtn.addEventListener('click', () => this.showScreen(GameScreen.MENU));\r\n\r\n    // Game over buttons\r\n    this.elements.playAgainBtn.addEventListener('click', () => this.startGame());\r\n    this.elements.mainMenuBtn.addEventListener('click', () => this.showScreen(GameScreen.MENU));\r\n    this.elements.submitScoreBtn.addEventListener('click', () => this.submitScore());\r\n\r\n    // Control buttons\r\n    this.elements.pauseBtn.addEventListener('click', () => this.togglePause());\r\n    this.elements.upBtn.addEventListener('click', () => this.changeDirection(Direction.UP));\r\n    this.elements.downBtn.addEventListener('click', () => this.changeDirection(Direction.DOWN));\r\n    this.elements.leftBtn.addEventListener('click', () => this.changeDirection(Direction.LEFT));\r\n    this.elements.rightBtn.addEventListener('click', () => this.changeDirection(Direction.RIGHT));\r\n\r\n    // Settings\r\n    this.elements.speedSelect.addEventListener('change', () => this.updateSettings());\r\n    this.elements.wallsSelect.addEventListener('change', () => this.updateSettings());\r\n    this.elements.soundToggle.addEventListener('change', () => this.updateSettings());\r\n\r\n    // Keyboard controls\r\n    document.addEventListener('keydown', (e) => this.handleKeyPress(e));\r\n\r\n    // Prevent context menu on touch controls\r\n    document.querySelectorAll('.control-btn').forEach(btn => {\r\n      btn.addEventListener('contextmenu', (e) => e.preventDefault());\r\n    });\r\n  }\r\n\r\n  private handleKeyPress(e: KeyboardEvent) {\r\n    switch (e.code) {\r\n      case 'ArrowUp':\r\n      case 'KeyW':\r\n        e.preventDefault();\r\n        this.changeDirection(Direction.UP);\r\n        break;\r\n      case 'ArrowDown':\r\n      case 'KeyS':\r\n        e.preventDefault();\r\n        this.changeDirection(Direction.DOWN);\r\n        break;\r\n      case 'ArrowLeft':\r\n      case 'KeyA':\r\n        e.preventDefault();\r\n        this.changeDirection(Direction.LEFT);\r\n        break;\r\n      case 'ArrowRight':\r\n      case 'KeyD':\r\n        e.preventDefault();\r\n        this.changeDirection(Direction.RIGHT);\r\n        break;\r\n      case 'Space':\r\n        e.preventDefault();\r\n        if (this.currentScreen === GameScreen.GAME || this.currentScreen === GameScreen.PAUSE) {\r\n          this.togglePause();\r\n        }\r\n        break;\r\n      case 'Enter':\r\n        e.preventDefault();\r\n        if (this.currentScreen === GameScreen.MENU) {\r\n          this.startGame();\r\n        }\r\n        break;\r\n      case 'Escape':\r\n        e.preventDefault();\r\n        if (this.currentScreen === GameScreen.GAME) {\r\n          this.togglePause();\r\n        } else if (this.currentScreen !== GameScreen.MENU) {\r\n          this.showScreen(GameScreen.MENU);\r\n        }\r\n        break;\r\n    }\r\n  }\r\n\r\n  private changeDirection(direction: Direction) {\r\n    if (this.currentScreen === GameScreen.GAME) {\r\n      this.game.changeDirection(direction);\r\n      this.soundManager.playMove();\r\n    }\r\n  }\r\n\r\n  private startGame() {\r\n    this.soundManager.playMenuSelect();\r\n    this.game.reset();\r\n    this.game.start();\r\n    this.showScreen(GameScreen.GAME);\r\n    this.gameLoop();\r\n  }\r\n\r\n  private async gameLoop() {\r\n    if (this.currentScreen !== GameScreen.GAME) return;\r\n\r\n    const state = this.game.getState();\r\n    \r\n    if (state.isGameOver) {\r\n      this.handleGameOver(state.score);\r\n      return;\r\n    }\r\n\r\n    this.updateScore(state.score);\r\n    \r\n    // Continue game loop\r\n    setTimeout(() => this.gameLoop(), 50);\r\n  }\r\n\r\n  private handleGameOver(score: number) {\r\n    this.soundManager.playGameOver();\r\n    \r\n    // Update high score\r\n    if (score > this.highScore) {\r\n      this.highScore = score;\r\n      LocalStorage.setHighScore(this.highScore);\r\n      this.elements.highScoreMsg.style.display = 'block';\r\n      this.elements.playerName.style.display = 'block';\r\n      this.elements.submitScoreBtn.style.display = 'block';\r\n    } else {\r\n      this.elements.highScoreMsg.style.display = 'none';\r\n      this.elements.playerName.style.display = 'none';\r\n      this.elements.submitScoreBtn.style.display = 'none';\r\n    }\r\n\r\n    this.elements.finalScore.textContent = `Score: ${score}`;\r\n    this.updateUI();\r\n    this.showScreen(GameScreen.GAME_OVER);\r\n  }\r\n\r\n  private async submitScore() {\r\n    const name = (this.elements.playerName as HTMLInputElement).value.trim();\r\n    if (!name) return;\r\n\r\n    const score = this.game.getState().score;\r\n    const success = await this.apiClient.submitScore(name, score);\r\n    \r\n    if (success) {\r\n      this.elements.submitScoreBtn.textContent = 'SUBMITTED!';\r\n      (this.elements.submitScoreBtn as HTMLButtonElement).disabled = true;\r\n      this.soundManager.playMenuSelect();\r\n    } else {\r\n      this.elements.submitScoreBtn.textContent = 'FAILED';\r\n      setTimeout(() => {\r\n        this.elements.submitScoreBtn.textContent = 'SUBMIT';\r\n      }, 2000);\r\n    }\r\n  }\r\n\r\n  private togglePause() {\r\n    if (this.currentScreen === GameScreen.GAME) {\r\n      this.game.pause();\r\n      this.showScreen(GameScreen.PAUSE);\r\n    } else if (this.currentScreen === GameScreen.PAUSE) {\r\n      this.game.resume();\r\n      this.showScreen(GameScreen.GAME);\r\n      this.gameLoop();\r\n    }\r\n  }\r\n\r\n  private showOptions() {\r\n    this.soundManager.playMenuSelect();\r\n    \r\n    // Update UI with current settings\r\n    (this.elements.speedSelect as HTMLSelectElement).value = this.settings.initialSpeed.toString();\r\n    (this.elements.wallsSelect as HTMLSelectElement).value = this.settings.wallMode;\r\n    (this.elements.soundToggle as HTMLInputElement).checked = this.settings.soundEnabled;\r\n    \r\n    this.showScreen(GameScreen.OPTIONS);\r\n  }\r\n\r\n  private updateSettings() {\r\n    this.settings.initialSpeed = parseInt((this.elements.speedSelect as HTMLSelectElement).value);\r\n    this.settings.wallMode = (this.elements.wallsSelect as HTMLSelectElement).value as 'solid' | 'wrap';\r\n    this.settings.soundEnabled = (this.elements.soundToggle as HTMLInputElement).checked;\r\n\r\n    this.game.updateSettings(this.settings);\r\n    this.soundManager.setEnabled(this.settings.soundEnabled);\r\n\r\n    // Save settings\r\n    LocalStorage.setSettings({\r\n      speed: this.settings.initialSpeed,\r\n      wallMode: this.settings.wallMode,\r\n      soundEnabled: this.settings.soundEnabled\r\n    });\r\n\r\n    this.soundManager.playMenuSelect();\r\n  }\r\n\r\n  private async showLeaderboard() {\r\n    this.soundManager.playMenuSelect();\r\n    this.elements.leaderboardList.innerHTML = '<div>Loading...</div>';\r\n    this.showScreen(GameScreen.LEADERBOARD);\r\n\r\n    const scores = await this.apiClient.getLeaderboard();\r\n    this.renderLeaderboard(scores);\r\n  }\r\n\r\n  private renderLeaderboard(scores: ScoreEntry[]) {\r\n    if (scores.length === 0) {\r\n      this.elements.leaderboardList.innerHTML = '<div>No scores yet!</div>';\r\n      return;\r\n    }\r\n\r\n    const html = scores.map((entry, index) => `\r\n      <div class=\"leaderboard-entry\">\r\n        <span class=\"leaderboard-rank\">${index + 1}.</span>\r\n        <span class=\"leaderboard-name\">${entry.name}</span>\r\n        <span class=\"leaderboard-score\">${entry.score}</span>\r\n      </div>\r\n    `).join('');\r\n\r\n    this.elements.leaderboardList.innerHTML = html;\r\n  }\r\n\r\n  private showScreen(screen: GameScreen) {\r\n    this.currentScreen = screen;\r\n\r\n    // Hide all screens\r\n    this.elements.menuScreen.style.display = 'none';\r\n    this.elements.optionsScreen.style.display = 'none';\r\n    this.elements.gameOverScreen.style.display = 'none';\r\n    this.elements.leaderboardScreen.style.display = 'none';\r\n    this.elements.pauseScreen.style.display = 'none';\r\n\r\n    // Show target screen\r\n    switch (screen) {\r\n      case GameScreen.MENU:\r\n        this.elements.menuScreen.style.display = 'flex';\r\n        break;\r\n      case GameScreen.OPTIONS:\r\n        this.elements.optionsScreen.style.display = 'flex';\r\n        break;\r\n      case GameScreen.GAME_OVER:\r\n        this.elements.gameOverScreen.style.display = 'flex';\r\n        break;\r\n      case GameScreen.LEADERBOARD:\r\n        this.elements.leaderboardScreen.style.display = 'flex';\r\n        break;\r\n      case GameScreen.PAUSE:\r\n        this.elements.pauseScreen.style.display = 'flex';\r\n        break;\r\n      case GameScreen.GAME:\r\n        // Game screen shows canvas directly\r\n        break;\r\n    }\r\n  }\r\n\r\n  private updateScore(score: number) {\r\n    this.elements.score.textContent = score.toString();\r\n  }\r\n\r\n  private updateUI() {\r\n    this.elements.highScore.textContent = this.highScore.toString();\r\n  }\r\n}\r\n","import { GameController } from './controller.js';\r\n\r\n// Initialize the game when the DOM is loaded\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  new GameController();\r\n});\r\n\r\n// Prevent zoom on double tap for mobile\r\ndocument.addEventListener('touchstart', (e) => {\r\n  if (e.touches.length > 1) {\r\n    e.preventDefault();\r\n  }\r\n});\r\n\r\nlet lastTouchEnd = 0;\r\ndocument.addEventListener('touchend', (e) => {\r\n  const now = Date.now();\r\n  if (now - lastTouchEnd <= 300) {\r\n    e.preventDefault();\r\n  }\r\n  lastTouchEnd = now;\r\n}, false);\r\n"],"names":["Direction","GameScreen","SnakeGame","canvas","settings","centerX","centerY","snake","food","segment","newDirection","newSettings","now","moveInterval","head","x","xPos","y","yPos","index","eyeSize","eyeOffset","foodX","foodY","SoundManager","enabled","frequency","duration","type","oscillator","gainNode","API_BASE_URL","ApiClient","limit","response","error","name","score","_LocalStorage","stored","LocalStorage","GameController","savedSettings","btn","e","direction","state","scores","html","entry","screen","lastTouchEnd"],"mappings":"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"}